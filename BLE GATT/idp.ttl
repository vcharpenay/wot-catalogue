@prefix idp: <http://example.org/namespace/ble-gatt/idp#> .
@prefix ble: <http://example.org/namespace/ble-gatt#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .


idp:InsulinDeliveryProfile a skos:Concept .
idp:InsulinDeliveryService a skos:Concept .
idp:IDDStatusChanged a skos:Concept .
idp:IDDStatus a skos:Concept .
idp:IDDAnnunciationStatus a skos:Concept .
idp:IDDFeatures a skos:Concept .
idp:IDDStatusReaderControlPoint a skos:Concept .
idp:IDDCommandData a skos:Concept .
idp:IDDCommandControlPoint a skos:Concept .
idp:IDDRecordAccessControlPoint a skos:Concept .
idp:IDDHistoryData a skos:Concept .

idp:InsulinDeliveryProfile  rdfs:label "Insulin Delivery Profile" .
idp:InsulinDeliveryProfile skos:editorialNote "Not found yet, require membership ro get access." .
idp:InsulinDeliveryProfile owl:versionInfo "1.0" .


ble:Profile skos:narrower idp:InsulinDeliveryProfile .
ble:Service skos:narrower idp:InsulinDeliveryService.

idp:InsulinDeliveryProfile skos:related idp:InsulinDeliveryService .

idp:InsulinDeliveryService  rdfs:label "Insulin Delivery Service" .
idp:InsulinDeliveryService rdfs:seeAlso <https://www.bluetooth.org/DocMan/handlers/DownloadDoc.ashx?doc_id=447826> .
idp:InsulinDeliveryService skos:definition "The Insulin Delivery Service (IDS) exposes the control capability and the status of an Insulin Delivery Device running an insulin infusion therapy." .
idp:InsulinDeliveryService  owl:versionInfo "1.0" .


idp:InsulinDeliveryService skos:related idp:IDDStatusChanged .
idp:InsulinDeliveryService skos:related idp:IDDStatus .
idp:InsulinDeliveryService skos:related idp:IDDAnnunciationStatus .
idp:InsulinDeliveryService skos:related idp:IDDFeatures .
idp:InsulinDeliveryService skos:related idp:IDDStatusReaderControlPoint .
idp:InsulinDeliveryService skos:related idp:IDDCommandControlPoint .
idp:InsulinDeliveryService skos:related idp:IDDCommandData.
idp:InsulinDeliveryService skos:related idp:IDDRecordAccessControlPoint .
idp:InsulinDeliveryService skos:related idp:IDDHistoryData .

ble:Characteristic skos:narrower  idp:IDDStatusChanged .
ble:Characteristic skos:narrower  idp:IDDStatus .
ble:Characteristic skos:narrower  idp:IDDAnnunciationStatus .
ble:Characteristic skos:narrower  idp:IDDFeatures .
ble:Characteristic skos:narrower  idp:IDDStatusReaderControlPoint .
ble:Characteristic skos:narrower  idp:IDDCommandData .
ble:Characteristic skos:narrower  idp:IDDCommandControlPoint .
ble:Characteristic skos:narrower  idp:IDDRecordAccessControlPoint .
ble:Characteristic skos:narrower  idp:IDDHistoryData .

idp:IDDStatusChanged rdfs:label "Insulin Delivery Device Status Changed" .
idp:IDDStatusChanged skos:definition "The IDD Status Changed characteristic is comprised of status changes of the insulin therapy and the Insulin Delivery Device." .

idp:IDDStatus rdfs:label "Insulin Delivery Device Status" .
idp:IDDStatus skos:definition "The IDD Status characteristic is comprised of status values of the Insulin Delivery Device and the insulin therapy." .

idp:IDDAnnunciationStatus rdfs:label "Insulin Delivery Device Annunciation Status" .
idp:IDDAnnunciationStatus skos:definition "The IDD Annunciation Status characteristic is a variable length structure comprising of messages that describe state changes of the Insulin Delivery Device and in the therapy relevant functions." .

idp:IDDFeatures rdfs:label "Insulin Delivery Device Feature" .
idp:IDDFeatures skos:definition "The IDD Features characteristic shall be used to describe the supported features of the Server." . 

idp:IDDStatusReaderControlPoint rdfs:label "Insulin Delivery Device Status Reader Control Point" .
idp:IDDStatusReaderControlPoint skos:definition "The IDD Status Reader Control Point provides insulin therapy relevant status information (e.g., currently running boluses or current basal rate)." .

idp:IDDCommandControlPoint  rdfs:label "Insulin Delivery Device Command Control Point" . 
idp:IDDCommandControlPoint  skos:definition "The IDD Command Control Point provides procedures to support the insulin therapy by adapting therapy parameters to operate the insulin therapy remotely and to perform a remote operation of the device maintenance." .

idp:IDDCommandData  rdfs:label "Insulin Delivery Device Command Data" . 
idp:IDDCommandData  skos:definition "The IDD Command Data characteristic is comprised of response records from executed procedures of the IDD Command Control Point." .

idp:IDDRecordAccessControlPoint rdfs:label "Insulin Delivery Device Record Access Control Point" .
idp:IDDRecordAccessControlPoint skos:definition "This control point is used by the Insulin Delivery Service to provide basic management functionality of the history database of the Insulin Delivery Device including historical data of the insulin therapy, device state changes, and annunciations." .

idp:IDDHistoryData rdfs:label "Insulin Delivery Device History Data" .
idp:IDDHistoryData skos:definition "The IDD History Data characteristic is comprised of response records from executed procedures of the IDD Record Access Control Point." .

idp:IDDStatusChanged skos:related ble:Read, ble:Indicate .
idp:IDDStatus skos:related ble:Read, ble:Indicate .
idp:IDDAnnunciationStatus skos:related ble:Read, ble:Indicate .
idp:IDDFeatures skos:related ble:Read .
idp:IDDStatusReaderControlPoint skos:related ble:Write, ble:Indicate .
idp:IDDCommandData skos:related ble:Write, ble:Indicate .
idp:IDDCommandControlPoint skos:related ble:Notify .
idp:IDDRecordAccessControlPoint skos:related ble:Write, ble:Indicate .
idp:IDDHistoryData skos:related ble:Notify .


idp:IDDStatusChanged skos:related idp:E2ECounterfield, idp:E2ECRCfield .
idp:IDDStatus skos:related idp:E2ECounterfield, idp:E2ECRCfield .
idp:IDDAnnunciationStatus skos:related  idp:E2ECounterfield , idp:E2ECRCfield.
idp:IDDFeatures skos:related  idp:E2ECounterfield, idp:E2ECRCfield .
idp:IDDStatusReaderControlPoint skos:related idp:E2ECounterfield , idp:E2ECRCfield.
idp:IDDCommandData skos:related idp:E2ECounterfield , idp:E2ECRCfield .
idp:IDDCommandControlPoint skos:related  idp:E2ECounterfield , idp:E2ECRCfield.
idp:IDDRecordAccessControlPoint skos:related  idp:E2ECounterfield , idp:E2ECRCfield.


idp:E2ECounterfield a skos:Concept .
ble:Value skos:narrower idp:E2ECounterfield .
idp:E2ECounterfield rdfs:label "End to End Counter field" .
idp:E2ECounterfield skos:definition "The E2E-Counter field, when used correctly, provides that messages are received in the correct order." .
idp:E2ECounterfield skos:related xsd:unsignedByte .

idp:E2ECRCfield a skos:Concept .
ble:Value skos:narrower idp:E2ECRCfield .
idp:E2ECRCfield rdfs:label "End to End Cyclic Redundancy Check field" .
idp:E2ECRCfield skos:definition "If the Server supports E2E-Protection, all fields of a characteristic shall be secured by a CRC calculated over all fields of the characteristic payload." .
idp:E2ECRCfield skos:related xsd:unsignedShort .



idp:IDDStatus skos:related idp:TherapyControlStatefield, idp:OperationalStatefield .   
idp:TherapyControlStatefield a skos:Concept .
idp:OperationalStatefield a skos:Concept . 
ble:Value skos:narrower idp:TherapyControlStatefield, idp:OperationalStatefield .
idp:TherapyControlStatefield rdfs:label "Therapy Control State field" .
idp:OperationalStatefield rdfs:label "Operational State field" . 
idp:TherapyControlStatefield skos:definition "The Therapy Control State field describes the therapy state of the insulin delivery (e.g., stop, pause, run)." .
idp:OperationalStatefield skos:definition "The Operational State field represents the operational state of the Insulin Delivery Device in the context of running an insulin infusion therapy (e.g., priming)." . 
idp:TherapyControlStatefield skos:related xsd:unsignedByte .
idp:OperationalStatefield skos:related xsd:unsignedByte .

idp:IDDStatus skos:related idp:ReservoirRemainingAmountfield . 
idp:ReservoirRemainingAmountfield a skos:Concept .
ble:Value skos:narrower idp:ReservoirRemainingAmountfield .
idp:ReservoirRemainingAmountfield rdfs:label "Reservoir Remaining Amount field"  .
idp:ReservoirRemainingAmountfield skos:definition "The Reservoir Remaining Amount field represents the remaining amount of insulin in the reservoir in IU." .
idp:ReservoirRemainingAmountfield skos:related xsd:float .


idp:IDDAnnunciationStatus  skos:related idp:AnnunciationInstanceID, idp:AuxInfo1Valuefield , idp:AuxInfo2Contextfield, idp:AuxInfo3LowerBoundfield, idp:AuxInfo4UpperBoundfield .

ble:Value skos:narrower idp:AnnunciationInstanceID, idp:AuxInfo1Valuefield , idp:AuxInfo2Contextfield, idp:AuxInfo3LowerBoundfield, idp:AuxInfo4UpperBoundfield .

idp:AuxInfo1Valuefield a skos:Concept . 
idp:AuxInfo2Contextfield a skos:Concept .
idp:AuxInfo3LowerBoundfield a skos:Concept .
idp:AuxInfo4UpperBoundfield a skos:Concept .
idp:AnnunciationInstanceID a skos:Concept .

idp:AuxInfo1Valuefield rdfs:label " AuxInfo1 Value field" . 
idp:AuxInfo2Contextfield rdfs:label "AuxInfo2 Context values" .
idp:AuxInfo3LowerBoundfield rdfs:label "AuxInfo3 Lower Bound field" .
idp:AuxInfo4UpperBoundfield rdfs:label "AuxInfo4 Upper Bound field" .
idp:AnnunciationInstanceID rdfs:label "Annunciation Instance ID " .

idp:AuxInfo1Valuefield skos:definition "The AuxInfo1 field shall contain the value of the temperature." . 
idp:AuxInfo2Contextfield skos:definition "The second octet of the AuxInfo2 field shall contain a Context field." .
idp:AuxInfo3LowerBoundfield skos:definition "The AuxInfo3 field shall contain the value of the lower bound of the temperature." .
idp:AuxInfo4UpperBoundfield skos:definition "The AuxInfo4 field shall contain the value of the upper bound of the temperature." .
idp:AnnunciationInstanceID skos:definition "The Annunciation Instance ID field represents a unique identifier as a uint16 data type created by the Server application for all annunciations that occur in the course of time." .
idp:AnnunciationInstanceID skos:related xsd:unsigedShort .

idp:AuxInfo2Contextfield skos:narrower idp:GenericDevice, idp:Insulin .
ble:Value skos:narrower idp:GenericDevice, idp:Insulin .
idp:GenericDevice a skos:Concept .
idp:Insulin a skos:Concept .
idp:GenericDevice rdfs:label "Generic Device" .
idp:Insulin rdfs:label "Insulin" .
idp:GenericDevice skos:definition "The reported temperature refers to the Insulin Delivery Device in general." .
idp:Insulin skos:definition "The reported temperature refers to the insulin delivered by the Insulin Delivery Device in general (e.g. the insulin in the reservoir)." .


idp:AuxInfo1Valuefield skos:related xsd:float . 
idp:AuxInfo2Contextfield skos:related xsd:unsignedByte .
idp:AuxInfo3LowerBoundfield skos:related xsd:float .
idp:AuxInfo4UpperBoundfield skos:related xsd:float .

idp:IDDFeatures skos:related idp:InsulinConcentrationfield .
ble:Value skos:narrower idp:InsulinConcentrationfield .
idp:InsulinConcentrationfield a skos:Concept .
idp:InsulinConcentrationfield rdfs:label "Insulin Concentration field" .
idp:InsulinConcentrationfield skos:definition "The Insulin Concentration field shall be included in the IDD Features characteristic to expose the intended insulin concentration of the Insulin Delivery Device." .



idp:IDDHistoryData skos:related idp:SequenceNumberfield .
idp:SequenceNumberfield a skos:Concept .
ble:Value skos:narrower idp:SequenceNumberfield .
idp:SequenceNumberfield rdfs:label "Sequence Number field" .
idp:SequenceNumberfield skos:definition "The Sequence Number shall be assigned to each IDD History Data characteristic value to maintain the chronological order of the history records in the Server history database." .
idp:SequenceNumberfield skos:related xsd:unsignedInt .

idp:IDDHistoryData skos:related idp:RelativeOffsetfield  .
idp:RelativeOffsetfield  a skos:Concept .
ble:Value skos:narrower idp:RelativeOffsetfield  .
idp:RelativeOffsetfield  rdfs:label "Relative Offset field" .
idp:RelativeOffsetfield  skos:definition "The Relative Offset field represents the elapsed time in seconds since the last recorded Reference Time event." .
idp:RelativeOffsetfield  skos:related xsd:unsignedShort .